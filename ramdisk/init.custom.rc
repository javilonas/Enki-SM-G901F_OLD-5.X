import /init.superuser.rc

on init
    export ANDROID_CACHE /cache
    export TERMINFO /system/etc/terminfo

    setprop dalvik.vm.lockprof.threshold 500
    setprop dalvik.vm.verify-bytecode false
    setprop dalvik.vm.dexopt-flags v=n,o=v,m=y

    # Run sysinit
    start sysinit

on boot
    chown system system /sys/block/mmcblk0/queue/scheduler
    chmod 0664 /sys/block/mmcblk0/queue/scheduler
    restorecon /sys/block/mmcblk0/queue/scheduler

# Governor for Default
    chmod 777 /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
    echo "barry_allen" > /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor # CPU0
    chmod -h 0664 /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
    chmod 777 /sys/devices/system/cpu/cpu1/cpufreq/scaling_governor
    echo "barry_allen" > /sys/devices/system/cpu/cpu1/cpufreq/scaling_governor # CPU1
    chmod -h 0664 /sys/devices/system/cpu/cpu1/cpufreq/scaling_governor
    chmod 777 /sys/devices/system/cpu/cpu2/cpufreq/scaling_governor
    echo "barry_allen" > /sys/devices/system/cpu/cpu2/cpufreq/scaling_governor # CPU2
    chmod -h 0664 /sys/devices/system/cpu/cpu2/cpufreq/scaling_governor
    chmod 777 /sys/devices/system/cpu/cpu3/cpufreq/scaling_governor
    echo "barry_allen" > /sys/devices/system/cpu/cpu3/cpufreq/scaling_governor # CPU3
    chmod -h 0664 /sys/devices/system/cpu/cpu3/cpufreq/scaling_governor

# sysinit (/system/etc/init.d)
service sysinit /system/bin/sysinit
    user root
    oneshot
    disabled
